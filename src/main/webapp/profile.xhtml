<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
	<title>Compra</title>


	<link href="resources/css/profile.css" rel="stylesheet" type="text/css" />
	<link href="https://fonts.googleapis.com/css2?family=Material+Icons"
		rel="stylesheet" />
</h:head>
<ui:composition template="/index.xhtml">
	<ui:define name="index-template">
		<div id="profile-container">
			<section id="profile-top20">
				<p:growl id="message" showDetail="true" />
				<img src="img-usuario?nome=#{indexController.entity.id}.png" />
				<div style="position: absolute; bottom: -7rem;">
					<p:commandButton value="Alterar foto" type="button"
						icon="pi pi-external-link" onclick="PF('dlg3').show()" />
				</div>




			</section>

			<section id="profile-top80">
				<div class="content-dados">
					<p:tabView>
						<p:tab title="Perfil">
							<div id="content-perfil">

								<div class="grid">
									<section>
										<strong>Nome: </strong>
										<p>#{indexController.entity.nome}</p>
									</section>
									<section>
										<strong>Cpf: </strong>
										<p>#{indexController.entity.cpf}</p>
									</section>
									<section>
										<strong>Email: </strong>
										<p>#{indexController.entity.email}</p>
									</section>
									<section>
										<strong>Data de nascimento: </strong>
										<p>#{indexController.entity.dataNascimento}</p>
									</section>
									<section>
										<strong>Sexo: </strong>
										<p>#{indexController.entity.sexo}</p>
									</section>
									<section>
										<strong>Telefone:</strong>
										<p>(#{indexController.entity.telefone.codigoArea})
											#{indexController.entity.telefone.numero}</p>
									</section>
								</div>
								<div style="margin-top: 1rem;">
									<p:commandButton value="Editar" type="button"
										icon="pi pi-external-link" onclick="PF('dlg4').show()" />
								</div>

							</div>
						</p:tab>
						<p:tab title="Endereços">
							<div id="endereco">

								<p:repeat value="#{indexController.entity.listaEndereco}"
									var="obj">
									<div id="content-end">
										<div>

											<section>
												<p>#{obj.cep}, #{obj.endereco}</p>
												<br />
												<p>#{obj.numero}, #{obj.complemento}</p>
											</section>
											<p:commandButton value="Alterar Endereço" />
										</div>
									</div>
								</p:repeat>
							</div>
						</p:tab>
						<p:tab title="Cartões">
							<p:repeat value="#{indexController.entity.listaCartao}" var="obj">
								<div id="content-cartao">
									<div class="tarja-branca"></div>

									<div class="dados">
										<div class="numero">
											<p>#{obj.numeroCartao}</p>
										</div>
										<div class="sub-dados">
											<span>#{obj.nomeCartao}</span> <span>#{obj.dataValidade}</span>
											<span>#{obj.cvv}</span>
										</div>

									</div>

								</div>
							</p:repeat>

						</p:tab>

					</p:tabView>
				</div>

				<p:dialog header="Faça o upload de sua foto" widgetVar="dlg3"
					minHeight="40" width="350" showEffect="fade">
					<h:form enctype="multipart/form-data">
						<p:fileUpload id="fileUpload" listener="#{indexController.upload}"
							mode="advanced" update="fileUpload @form"
							label="Selecione uma foto ..." global="false">
						</p:fileUpload>
						<p:growl id="messages" showDetail="true" />
					</h:form>
					<f:facet name="footer">

						<p:commandButton type="button" value="No"
							styleClass="ui-button-flat p-mr-2" style="width: 6rem" />
						<p:commandButton
							actionListener="#{indexController.alterarUsuarioLogado}"
							type="button" value="Yes" style="width: 5rem" />

					</f:facet>
				</p:dialog>
				
				
				
				<p:dialog header="Faça o upload de sua foto" widgetVar="dlg4"
					minHeight="40" width="700" showEffect="fade">
					<h:form id="teste">
					<section class="inputs">

					<span class="ui-float-label"> <p:inputText required="true"
							requiredMessage="O nome deve ser informado."
							value="#{managerUsuarioController.entity.nome}" /> <p:outputLabel
							for="@previous" value="Nome do usuario" />
					</span> <span class="ui-float-label"> <p:inputText required="true"
							requiredMessage="O email deve ser informado."
							value="#{managerUsuarioController.entity.email}" /> <p:outputLabel
							for="@previous" value="Email do usuario" />

					</span> <span class="ui-float-label"> <p:inputText
							disabled="#{managerUsuarioController.entity.id != null}"
							required="true" requiredMessage="A senha deve ser informada"
							value="#{managerUsuarioController.entity.senha}" /> <p:outputLabel
							for="@previous" value="Senha do usuario" />

					</span>
					<div>
						<p:commandButton
							disabled="#{managerUsuarioController.entity.id != null}"
							process="@form:teste" update="@form:teste"
							action="#{managerUsuarioController.salvarUsuario}" value="Salvar" />
						<p:commandButton
							disabled="#{managerUsuarioController.entity.id == null}"
							process="@form:teste" update="@form:teste"
							action="#{managerUsuarioController.alterarUsuario}"
							value="alterar" />
						<p:commandButton process="@form:teste" update="@form:teste"
							action="#{managerUsuarioController.limpar}" value="Limpar" />

						<p:commandButton
							disabled="#{managerUsuarioController.entity.id == null}"
							process="@this" update="@form:teste"
							action="#{managerUsuarioController.excluir}" value="Excluir" />
					</div>
				</section>
				</h:form>
				</p:dialog>



			</section>
		</div>



	</ui:define>
</ui:composition>

</html>